<!DOCTYPE html><html data-n-head="" data-n-head-ssr><meta data-n-head="true" content="width=device-width,initial-scale=1" name="viewport"><meta data-n-head="true" charset="utf8"><meta data-n-head="true" href="/static/logo.png" rel="icon" type="image/x-icon"><meta data-n-head="true" content="RyanWillDev" name="title"><meta data-n-head="true" content="@RyanWillDev" property="twitter:creator"><meta data-n-head="true" content="summary" property="twitter:card"><meta data-n-head="true" content="static/logo.png" property="og:image"><meta data-n-head="true" content="A quick write up on how I converted this site from a single page Vue site to a static site with Nuxt." data-hid="desc" name="description"><meta data-n-head="true" content="Nuxt Rewrite" data-hid="og:title" name="og:title"><meta data-n-head="true" content="A quick write up on how I converted this site from a single page Vue site to a static site with Nuxt." data-hid="og:desc" name="og:description"><meta data-n-head="true" content="https://ryanwilldev.com/journal/nuxt-rewrite" data-hid="og:url" name="og:url"><meta data-n-head="true" content="article" data-hid="og:type" name="og:type"><title data-n-head="true">RyanWillDev | Software Developer</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css" rel="stylesheet" data-n-head="true"><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/atom-one-dark.min.css" rel="stylesheet" data-n-head="true"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" data-n-head="true"><link href="nuxt-rewrite" rel="canonical" data-n-head="true" data-hid="con"><link href="/_nuxt/manifest.9d39b0c5d5ab5813576e.js" rel="preload" as="script"><link href="/_nuxt/common.3cf28dd66a438532b4cf.js" rel="preload" as="script"><link href="/_nuxt/app.93dd9fa1b6e1200ad722.js" rel="preload" as="script"><link href="/_nuxt/layouts/default.9fd2d878887bf0475b11.js" rel="preload" as="script"><link href="/_nuxt/pages/journal/_journalEntry.76c1bd04e8baac32bbbf.js" rel="preload" as="script"><link href="/_nuxt/pages/projects/index.ceaee1ee8ae3493f278d.js" rel="prefetch"><link href="/_nuxt/pages/journal/index.6ef0dba1ab47a9ae9f50.js" rel="prefetch"><link href="/_nuxt/pages/about/index.8f0fdc24e3c3105f3f87.js" rel="prefetch"><link href="/_nuxt/pages/index.e58bc30dbbc7ed0dda67.js" rel="prefetch"><style data-vue-ssr-id="8873dbe8:0 2d95c1b0:0 45006628:0 beb1a936:0 311dda64:0 f2854948:0">.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;-webkit-transition:width .2s,opacity .4s;transition:width .2s,opacity .4s;opacity:1;background-color:#efc14e;z-index:999999}.my-content-container{-ms-flex-item-align:end;align-self:flex-end;color:#313233;font-size:1.1em;line-height:1.25;padding:10px;width:70%}@media screen and (min-width:1100px){.my-content-container{margin:4% 3% 0 calc(50px + 24%)}}a,a:hover{color:#42b4d6;font-weight:700}body,html{color:#bcbcbc;font-family:Avenir,Helvetica,Arial,sans-serif;height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.section-head{font-size:2em;margin:7% 0 4%}li,ul{padding:0}li{list-style:none}@media screen and (max-width:1100px){.my-content-container{-ms-flex-item-align:center;align-self:center;margin-top:6%;width:90%}}@media screen and (max-width:600px){.my-content-container{margin-top:24%}}@media screen and (max-width:400px){.my-content-container{font-size:.95em}}@media screen and (orientation:landscape) and (max-width:1000px){.my-content-container{margin-top:60px}}.nav-container{background-color:#313233;height:100%;left:0;padding-bottom:10px;position:fixed;top:0;text-align:center;width:24%;z-index:1}.nav-container a,.nav-container a:visited{color:#bcbcbc;list-style:none;text-decoration:none}.nav-container a:active,.nav-container a:hover{border-bottom:2px solid #42b4d6}.nav-container a:active{color:#42b4d6}.nav-container nav{height:100%}.nav-container h2{font-size:2.5em;font-weight:700;margin:0;padding-top:48px}.nav-container #callout{color:#42b4d6}@media screen and (max-width:1100px){.nav-container{height:8%;width:100%}.nav-container,.nav-container nav{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.nav-container nav{-ms-align-items:center;width:50%}.nav-container h2{margin-right:auto;padding:10px 0 10px 10px}}@media screen and (max-width:800px){.nav-container{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:10%;width:100%}}@media screen and (max-width:620px){.nav-container{flex-wrap:wrap;-webkit-flex-wrap:wrap;-moz-flex-wrap:wrap;-ms-flex-wrap:wrap;-o-flex-wrap:wrap;height:15%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.nav-container nav{height:inherit}.nav-container h2{margin-right:0;padding:10px 0 0}}@media screen and (orientation:landscape) and (max-width:1000px){.nav-container{padding:10px 0}}ul[data-v-f8095a58]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:40%;-ms-flex-pack:distribute;justify-content:space-around;list-style:none;margin:0;padding:30px 0 0}a[data-v-f8095a58]{font-size:1.75em;font-weight:400;margin:0 10px;padding:5px 5px 0}a.router-link-active[data-v-f8095a58],a[data-v-f8095a58]:hover{border-bottom:2px solid #42b4d6}@media screen and (max-width:1200px){a[data-v-f8095a58]{font-size:1.5em}}@media screen and (max-width:1100px){ul[data-v-f8095a58]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;padding:0 10px 0 0;width:100%}}@media screen and (max-width:600px){a[data-v-f8095a58]{font-size:1.2em}}ul[data-v-7755f9c2]{bottom:50px;display:-moz-flex;display:-ms-flex;display:-o-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;margin:0 auto;padding:0;position:absolute;width:100%}li[data-v-7755f9c2]{list-style:none}a[data-v-7755f9c2]{padding:5px}i[data-v-7755f9c2]:active{color:#42b4d6}i[data-v-7755f9c2]{color:#bcbcbc;font-size:1.75em}@media screen and (max-width:1100px){.lg-only[data-v-7755f9c2]{display:none}}.entry-container h1{margin-bottom:.2em}.entry-container h2,.entry-container h3{margin-bottom:24px;margin-top:56px}.entry-container pre code{border-radius:5px;margin:24px 0;width:90%}.entry-container .pub-date{display:block;margin-bottom:24px}@media screen and (min-width:750px){.entry-container .pub-date{margin-bottom:48px}}.entry-container .hljs-keyword{border-radius:5px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;padding:2px 4px}.entry-container p>code.hljs{border-radius:5px;display:inline;padding:0 4px}@media screen and (min-width:750px){.entry-container{padding:0 10%}}</style><body data-n-head=""><div id="__nuxt" data-server-rendered="true"><div class="nuxt-progress" style="width:0%;height:2px;background-color:#000;opacity:0"></div><div><aside class="nav-container"><h2>RyanWill<span id="callout">Write</span></h2><nav><ul data-v-f8095a58><li data-v-f8095a58><a href="/about" data-v-f8095a58>About</a><li data-v-f8095a58><a href="/projects" data-v-f8095a58>Projects</a><li data-v-f8095a58><a href="/journal" class="router-link-active" data-v-f8095a58>Journal</a></ul><ul class="lg-only" data-v-7755f9c2><li data-v-7755f9c2><a href="https://twitter.com/ryanwilldev" data-v-7755f9c2><i class="fa fa-twitter" data-v-7755f9c2></i></a><li data-v-7755f9c2><a href="https://codepen.io/ryanwilldev" data-v-7755f9c2><i class="fa fa-codepen" data-v-7755f9c2></i></a><li data-v-7755f9c2><a href="https://github.com/ryanwilldev" data-v-7755f9c2><i class="fa fa-github" data-v-7755f9c2></i></a></ul></nav></aside><div class="my-content-container"><section class="entry-container"><h1>Nuxt Rewrite</h1><span class="pub-date">October 26, 2017</span><section><p>Recently I converted this site from a single page Vue app to a static site generated with Nuxt. The decision to do so was motivated by a few factors, but in the end it was the ability to generate a static site that convinced me. Well, that and every developer's weakness - curiosity.<h2 id="whatisnuxt">What is Nuxt?</h2><p><a href="https://nuxtjs.org/guide">Nuxt</a> is a framework for easily creating Universal or Server Rendered apps with <a href="https://vuejs.org/">Vue</a>. It is inspired by the framework <a href="https://zeit.co/blog/next2">Next</a> from Zeit.<p>Nuxt also provides the ability to generate a static version of your site. This feature is similar to <a href="https://jekyllrb.com/">Jekyll</a>, but allows you to use the full power of Vue and related tools like Vuex and Vue Router as well. The static site generated with Nuxt can be hosted on any static hosting provider; I used Github pages for this site. The Nuxt team uses the same technique to generate their docs.<h2 id="integratingnuxt">Integrating Nuxt</h2><p>First step to integrating Nuxt was to install it in my app with <code>npm install nuxt --save</code>. After installing Nuxt, I had to remove some old dependencies installed with Vue app that were now redundant.<p>Once the dependencies were straightened out, I needed to create the <a href="https://nuxtjs.org/guide/directory-structure">directory structure</a> Nuxt uses to automatically create routes. This mostly consisted of moving the container component I already had into the layouts directory and moving the components that were acting as pages to the pages directory. All the other components I moved to a new directory called components and imported them as needed into the components in the Nuxt directories.<h2 id="configuringnuxt">Configuring Nuxt</h2><p>By default Nuxt is configured to handle many things for you. Any changes can be added easily by editing the <a href="https://nuxtjs.org/guide/configuration">nuxt.config.js</a>.<p>I used the router property of the Nuxt config to add a class to my active links. I also added the following simple middleware that redirects visitors to the about route from the root of the site.<pre><code class="javascript language-javascript">export default function({ route, redirect }) {
  if (route.path === '/') redirect('/about');
}
</code></pre><p>Another convienent configuration available in the Nuxt config is the head property. The head property allows you to define the default meta properties for you app. This can be used in combination with the head method Nuxt adds to your components to very simply update the meta tags per page. I use this technique to update the Open Graph meta tags on my journal entries.<h2 id="staticsitewithnuxt">Static Site with Nuxt</h2><p>Generating a static site using Nuxt was pretty straight forward. I only ran into one relatively small and easy to fix issue. Navigating to a journal entry once on the site worked fine, but if you refreshed the page you would get a 404 error. This was because by default Nuxt only generates routes for the root of your static site. If you want to add dynamic routes or routes with dynamic params you have to add a tiny tweak to the config file.<p>For my site, I wanted to add a dynamic param for each journal entry. That is <code>/journal/:titleOfEntry</code>. Adding the following snippet to my config allowed the desired routes to be generated.<pre><code class="javascript language-javascript">generate: {
  routes() {
    return new Promise(resolve => resolve(journal.map(entry =>
      ({ route: `journal/${entry.data.url}`, payload: entry }))));
  },
</code></pre><p>The route property in the object above is required and used by Nuxt to generate the dynamic routes. The payload property is optional and is used to provide data to you components during the generation. Any data provided in the payload property is passed to the the asyncData method, which Nuxt adds to your page components and is called when the component is rendered server side or during the static site generation.<p>Async data is also called just before navigating to the route that renders the page component. Though in this case, it is not provided the payload. An alternative method for getting the data will need to be provided when payload is false. Here is the asyncData method from my journalEntry component.<pre><code class="javascript language-javascript">async asyncData({ payload, params }) {
  return {
    entry: payload
      || journal.find(entry => entry.data.url === params.journalEntry),
  };
},
</code></pre><h2 id="conclusion">Conclusion</h2><p>Overall switching to Nuxt was easy and pretty straightforward. The ability to statically generate your site is very neat feature. An easy to use, static blog framework is just asking to be built on top of Nuxt.<p>Hmmm... 🤔 Maybe someday.<p>In the meantime, if I happen to find myself needing a way to render a future project on the server I will definitely be reaching for Nuxt.</section></section></div></div></div><script type="text/javascript">window.__NUXT__={layout:"default",data:[{entry:{data:{title:"Nuxt Rewrite",url:"nuxt-rewrite",description:"A quick write up on how I converted this site from a single page Vue site to a static site with Nuxt.",tags:["vue","nuxt"],publicationDate:"October 26, 2017"},html:'<p>Recently I converted this site from a single page Vue app to a static site generated with Nuxt.\nThe decision to do so was motivated by a few factors, but in the end it was the ability to generate a static site that convinced me.\nWell, that and every developer\'s weakness - curiosity.</p>\n<h2 id="whatisnuxt">What is Nuxt?</h2>\n<p><a href="https://nuxtjs.org/guide">Nuxt</a> is a framework for easily creating Universal or Server Rendered apps with <a href="https://vuejs.org/">Vue</a>.\n It is inspired by the framework <a href="https://zeit.co/blog/next2">Next</a> from Zeit.</p>\n<p>Nuxt also provides the ability to generate a static version of your site.\nThis feature is similar to <a href="https://jekyllrb.com/">Jekyll</a>, but allows you to use the full power of Vue and related tools like Vuex and Vue Router as well. The static site generated with Nuxt can be hosted on any static hosting provider; I used Github pages for this site.\nThe Nuxt team uses the same technique to generate their docs.</p>\n<h2 id="integratingnuxt">Integrating Nuxt</h2>\n<p>First step to integrating Nuxt was to install it in my app with <code>npm install nuxt --save</code>. After installing Nuxt, I had to remove some old dependencies installed with Vue app that were now redundant.</p>\n<p>Once the dependencies were straightened out, I needed to create the <a href="https://nuxtjs.org/guide/directory-structure">directory structure</a> Nuxt uses to automatically create routes.\nThis mostly consisted of moving the container component I already had into the layouts directory and moving the components that were acting as pages to the pages directory.\nAll the other components I moved to a new directory called components and imported them as needed into the components in the Nuxt directories.</p>\n<h2 id="configuringnuxt">Configuring Nuxt</h2>\n<p>By default Nuxt is configured to handle many things for you.\nAny changes can be added easily by editing the <a href="https://nuxtjs.org/guide/configuration">nuxt.config.js</a>.</p>\n<p>I used the router property of the Nuxt config to add a class to my active links.\nI also added the following simple middleware that redirects visitors to the about route from the root of the site.</p>\n<pre><code class="javascript language-javascript">export default function({ route, redirect }) {\n  if (route.path === \'/\') redirect(\'/about\');\n}\n</code></pre>\n<p>Another convienent configuration available in the Nuxt config is the head property.\nThe head property allows you to define the default meta properties for you app.\nThis can be used in combination with the head method Nuxt adds to your components to very simply update the meta tags per page.\nI use this technique to update the Open Graph meta tags on my journal entries.</p>\n<h2 id="staticsitewithnuxt">Static Site with Nuxt</h2>\n<p>Generating a static site using Nuxt was pretty straight forward.\nI only ran into one relatively small and easy to fix issue.\nNavigating to a journal entry once on the site worked fine, but if you refreshed the page you would get a 404 error.\nThis was because by default Nuxt only generates routes for the root of your static site.\nIf you want to add dynamic routes or routes with dynamic params you have to add a tiny tweak to the config file.</p>\n<p>For my site, I wanted to add a dynamic param for each journal entry.\nThat is <code>/journal/:titleOfEntry</code>. Adding the following snippet to my config allowed the desired routes to be generated.</p>\n<pre><code class="javascript language-javascript">generate: {\n  routes() {\n    return new Promise(resolve =&gt; resolve(journal.map(entry =&gt;\n      ({ route: `journal/${entry.data.url}`, payload: entry }))));\n  },\n</code></pre>\n<p>The route property in the object above is required and used by Nuxt to generate the dynamic routes.\nThe payload property is optional and is used to provide data to you components during the generation.\nAny data provided in the payload property is passed to the the asyncData method, which Nuxt adds to your page components and is called when the component is rendered server side or during the static site generation.</p>\n<p>Async data is also called just before navigating to the route that renders the page component.\nThough in this case, it is not provided the payload.\nAn alternative method for getting the data will need to be provided when payload is false.\nHere is the asyncData method from my journalEntry component.</p>\n<pre><code class="javascript language-javascript">async asyncData({ payload, params }) {\n  return {\n    entry: payload\n      || journal.find(entry =&gt; entry.data.url === params.journalEntry),\n  };\n},\n</code></pre>\n<h2 id="conclusion">Conclusion</h2>\n<p>Overall switching to Nuxt was easy and pretty straightforward.\nThe ability to statically generate your site is very neat feature.\nAn easy to use, static blog framework is just asking to be built on top of Nuxt.</p>\n<p>Hmmm... 🤔 Maybe someday.</p>\n<p>In the meantime, if I happen to find myself needing a way to render a future project on the server I will definitely be reaching for Nuxt.</p>'}}],error:null,serverRendered:!0}</script><script defer src="/_nuxt/manifest.9d39b0c5d5ab5813576e.js"></script><script defer src="/_nuxt/layouts/default.9fd2d878887bf0475b11.js"></script><script defer src="/_nuxt/pages/journal/_journalEntry.76c1bd04e8baac32bbbf.js"></script><script defer src="/_nuxt/common.3cf28dd66a438532b4cf.js"></script><script defer src="/_nuxt/app.93dd9fa1b6e1200ad722.js"></script>